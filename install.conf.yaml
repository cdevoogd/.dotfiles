# https://github.com/anishathalye/dotbot#configuration

# Remove dead symlinks that point to the dotfiles directory
- clean:
    ~/:
    ~/.config:
      recursive: true

# Install homebrew packages and casks
- tap:
    - homebrew/cask-fonts
- brew:
    - curl
    - exa
    - fish
    - gh
    - git
    - git-delta
    - go
    - less
    - neovim
    - node
    - python3
    - ripgrep
    - virtualenv
    - wget
- cask:
    - docker
    - iterm2
    - font-jetbrains-mono
    - font-sf-mono-for-powerline
    - raycast
    - spotify
    - visual-studio-code

# Run shell commands
- defaults:
    shell:
      stdin: true
      stdout: true
      stderr: true

- shell:
    -
      command: sudo sh -c 'echo $(which fish) >> /etc/shells'
      description: Add fish to the list of shells
    -
      command: sh -c 'chsh -s $(which fish)'
      description: Make fish the default shell
    -
      command: curl -fsSL https://starship.rs/install.sh | bash -s  -- --yes
      description: Download and install the Starship prompt
    -
      command: ./git/replace-author.sh
      description: Add git author information to gitconfig
    -
      command: touch $HOME/.hushlogin
      description: Create a .hushlogin file, because who likes those login messages anyways

# Specify the symlinks to make
# DO NOT include a trailing slash if linking a directory
- defaults:
    link:
      create: true
      relink: true

- link:
    ~/.gitconfig: git/gitconfig
    ~/.config/fish/config.fish: fish/config.fish
    ~/.config/nvim: nvim
